# Microservices configuration
name: spring-load-development
namespace: reloading

# Image settings (can be overridden by parent global values)
imageRegistry: "zhoozhoo.ca"
imageTag: "0.1.1-SNAPSHOT"

# OpenTelemetry Collector endpoint for microservices
otelCollector:
  grpcEndpoint: "http://otel-collector-service.observability.svc.cluster.local:4317"

# Keycloak integration
keycloak:
  baseUrl: "http://keycloak-service.keycloak.svc.cluster.local:8080"
  realm: "reloading"
  clientId: "reloading-client"
  clientSecret: "2EvQuluZfxaaRms8V4NhzBDWzVCSXtty"
  namespace: keycloak

# PostgreSQL configuration
postgresql:
  namespace: postgres
  auth:
    username: user
    password: password

# Observability configuration
observability:
  namespace: observability

# API Gateway configuration
apiGateway:
  enabled: true
  replicas: 1
  
  image:
    repository: zhoozhoo.ca/spring-load-development/api-gateway
    tag: "0.1.1-SNAPSHOT"
    pullPolicy: IfNotPresent
  
  service:
    type: NodePort
    port: 8080
    nodePort: 30090
  
  ingress:
    enabled: false
    annotations: {}
    hosts:
      - host: api-gateway.local
        paths:
          - path: /
            pathType: Prefix
    tls: []
  
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  
  env: []
  
  # Pod Disruption Budget for high availability
  podDisruptionBudget:
    enabled: true
    minAvailable: 1
  
  # Network Policy for zero-trust security
  networkPolicy:
    enabled: true
  
  nodeSelector: {}
  tolerations: []
  affinity: {}

# Loads Service configuration
loadsService:
  enabled: true
  replicas: 1
  
  image:
    repository: zhoozhoo.ca/spring-load-development/loads-service
    tag: "0.1.1-SNAPSHOT"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 8080
  
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  
  env: []
  
  # Pod Disruption Budget for high availability
  podDisruptionBudget:
    enabled: true
    minAvailable: 1
  
  # Network Policy for zero-trust security
  networkPolicy:
    enabled: true
  
  nodeSelector: {}
  tolerations: []
  affinity: {}

# Components Service configuration
componentsService:
  enabled: true
  replicas: 1
  
  image:
    repository: zhoozhoo.ca/spring-load-development/components-service
    tag: "0.1.1-SNAPSHOT"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 8080
  
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  
  env: []
  
  # Pod Disruption Budget for high availability
  podDisruptionBudget:
    enabled: true
    minAvailable: 1
  
  # Network Policy for zero-trust security
  networkPolicy:
    enabled: true
  
  nodeSelector: {}
  tolerations: []
  affinity: {}

# Rifles Service configuration
riflesService:
  enabled: true
  replicas: 1
  
  image:
    repository: zhoozhoo.ca/spring-load-development/rifles-service
    tag: "0.1.1-SNAPSHOT"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 8080
  
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  
  env: []
  
  # Pod Disruption Budget for high availability
  podDisruptionBudget:
    enabled: true
    minAvailable: 1
  
  # Network Policy for zero-trust security
  networkPolicy:
    enabled: true
  
  nodeSelector: {}
  tolerations: []
  affinity: {}

# MCP Server configuration
mcpServer:
  enabled: true
  replicas: 1
  
  image:
    repository: zhoozhoo.ca/spring-load-development/mcp-server
    tag: "0.1.1-SNAPSHOT"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 8080
  
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  
  env: []
  
  # Pod Disruption Budget for high availability
  podDisruptionBudget:
    enabled: true
    minAvailable: 1
  
  # Network Policy for zero-trust security
  networkPolicy:
    enabled: true
  
  nodeSelector: {}
  tolerations: []
  affinity: {}

# RBAC configuration
rbac:
  create: true
  
serviceAccount:
  create: true
  name: ""
  annotations: {}

# Security context - Applied to all pods
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 2000

# Node selector, tolerations and affinity
nodeSelector: {}
tolerations: []
affinity: {}
